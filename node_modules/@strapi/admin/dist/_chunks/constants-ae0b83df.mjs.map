{"version":3,"file":"constants-ae0b83df.mjs","sources":["../../ee/admin/src/content-manager/components/Filter/CustomInputs/ReviewWorkflows/AssigneeFilter.js","../../ee/admin/src/content-manager/components/Filter/CustomInputs/ReviewWorkflows/StageFilter.js","../../ee/admin/src/content-manager/components/Filter/CustomInputs/ReviewWorkflows/constants.js"],"sourcesContent":["import React from 'react';\n\nimport { Combobox, ComboboxOption } from '@strapi/design-system';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\n\nimport { getDisplayName } from '../../../../../../../../admin/src/content-manager/utils/getDisplayName';\nimport { useAdminUsers } from '../../../../../../../../admin/src/hooks/useAdminUsers';\n\nexport const AssigneeFilter = ({ value, onChange }) => {\n  const { formatMessage } = useIntl();\n  const { users, isLoading } = useAdminUsers();\n\n  return (\n    <Combobox\n      value={value}\n      aria-label={formatMessage({\n        id: 'content-manager.components.Filters.usersSelect.label',\n        defaultMessage: 'Search and select an user to filter',\n      })}\n      onChange={onChange}\n      loading={isLoading}\n    >\n      {users.map((user) => {\n        return (\n          <ComboboxOption key={user.id} value={user.id.toString()}>\n            {getDisplayName(user, formatMessage)}\n          </ComboboxOption>\n        );\n      })}\n    </Combobox>\n  );\n};\n\nAssigneeFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string,\n};\n\nAssigneeFilter.defaultProps = {\n  value: '',\n};\n","import * as React from 'react';\n\nimport { Flex, Loader, SingleSelect, SingleSelectOption, Typography } from '@strapi/design-system';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\n\nimport { useReviewWorkflows } from '../../../../../pages/SettingsPage/pages/ReviewWorkflows/hooks/useReviewWorkflows';\nimport { getStageColorByHex } from '../../../../../pages/SettingsPage/pages/ReviewWorkflows/utils/colors';\n\nexport const StageFilter = ({ value, onChange, uid }) => {\n  const { formatMessage } = useIntl();\n  const {\n    workflows: [workflow],\n    isLoading,\n  } = useReviewWorkflows({ filters: { contentTypes: uid } });\n\n  return (\n    <SingleSelect\n      aria-label={formatMessage({\n        id: 'content-manager.components.Filters.reviewWorkflows.label',\n        defaultMessage: 'Search and select an workflow stage to filter',\n      })}\n      value={value}\n      onChange={onChange}\n      loading={isLoading}\n      // eslint-disable-next-line react/no-unstable-nested-components\n      customizeContent={() => (\n        <Flex as=\"span\" justifyContent=\"space-between\" alignItems=\"center\" width=\"100%\">\n          <Typography textColor=\"neutral800\" ellipsis>\n            {value}\n          </Typography>\n          {isLoading ? <Loader small style={{ display: 'flex' }} /> : null}\n        </Flex>\n      )}\n    >\n      {(workflow?.stages ?? []).map(({ id, color, name }) => {\n        const { themeColorName } = getStageColorByHex(color);\n\n        return (\n          <SingleSelectOption\n            key={id}\n            startIcon={\n              <Flex\n                height={2}\n                background={color}\n                borderColor={themeColorName === 'neutral0' ? 'neutral150' : 'transparent'}\n                hasRadius\n                shrink={0}\n                width={2}\n              />\n            }\n            value={name}\n          >\n            {name}\n          </SingleSelectOption>\n        );\n      })}\n    </SingleSelect>\n  );\n};\n\nStageFilter.defaultProps = {\n  value: '',\n};\n\nStageFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  uid: PropTypes.string.isRequired,\n  value: PropTypes.string,\n};\n","import { getTrad } from '../../../../../../../../admin/src/content-manager/utils';\n\nimport { AssigneeFilter } from './AssigneeFilter';\nimport { StageFilter } from './StageFilter';\n\nexport const REVIEW_WORKFLOW_FILTERS = [\n  {\n    fieldSchema: {\n      type: 'relation',\n      mainField: {\n        name: 'name',\n\n        schema: {\n          type: 'string',\n        },\n      },\n    },\n\n    metadatas: {\n      customInput: StageFilter,\n\n      label: {\n        id: getTrad(`containers.ListPage.table-headers.reviewWorkflows.stage`),\n        defaultMessage: 'Review stage',\n      },\n    },\n\n    name: 'strapi_stage',\n  },\n\n  {\n    fieldSchema: {\n      type: 'relation',\n      mainField: {\n        name: 'id',\n\n        schema: {\n          type: 'int',\n        },\n      },\n    },\n\n    metadatas: {\n      customInput: AssigneeFilter,\n\n      customOperators: [\n        {\n          intlLabel: {\n            id: 'components.FilterOptions.FILTER_TYPES.$eq',\n            defaultMessage: 'is',\n          },\n          value: '$eq',\n        },\n        {\n          intlLabel: {\n            id: 'components.FilterOptions.FILTER_TYPES.$ne',\n            defaultMessage: 'is not',\n          },\n          value: '$ne',\n        },\n      ],\n\n      label: {\n        id: getTrad(`containers.ListPage.table-headers.reviewWorkflows.assignee.label`),\n        defaultMessage: 'Assignee',\n      },\n    },\n\n    name: 'strapi_assignee',\n  },\n];\n"],"names":[],"mappings":"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"}