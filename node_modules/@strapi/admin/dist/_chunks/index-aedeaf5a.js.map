{"version":3,"file":"index-aedeaf5a.js","sources":["../../ee/admin/src/pages/SettingsPage/pages/ReviewWorkflows/pages/ListView/ListView.js","../../ee/admin/src/pages/SettingsPage/pages/ReviewWorkflows/pages/ListView/index.js"],"sourcesContent":["import React from 'react';\n\nimport {\n  Flex,\n  IconButton,\n  Loader,\n  Table,\n  Thead,\n  Tbody,\n  Tr,\n  Td,\n  TFooter,\n  Th,\n  Typography,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport {\n  ConfirmDialog,\n  Link,\n  LinkButton,\n  onRowClick,\n  pxToRem,\n  useAPIErrorHandler,\n  useFetchClient,\n  useNotification,\n  useRBAC,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Pencil, Plus, Trash } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { useContentTypes } from '../../../../../../../../../admin/src/hooks/useContentTypes';\nimport { selectAdminPermissions } from '../../../../../../../../../admin/src/selectors';\nimport { useLicenseLimits } from '../../../../../../hooks/useLicenseLimits';\nimport * as Layout from '../../components/Layout';\nimport * as LimitsModal from '../../components/LimitsModal';\nimport { CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME } from '../../constants';\nimport { useReviewWorkflows } from '../../hooks/useReviewWorkflows';\n\nconst ActionLink = styled(Link)`\n  align-items: center;\n  height: ${pxToRem(32)};\n  display: flex;\n  justify-content: center;\n  padding: ${({ theme }) => `${theme.spaces[2]}}`};\n  width: ${pxToRem(32)};\n\n  svg {\n    height: ${pxToRem(12)};\n    width: ${pxToRem(12)};\n\n    path {\n      fill: ${({ theme }) => theme.colors.neutral500};\n    }\n  }\n\n  &:hover,\n  &:focus {\n    svg {\n      path {\n        fill: ${({ theme }) => theme.colors.neutral800};\n      }\n    }\n  }\n`;\n\nexport function ReviewWorkflowsListView() {\n  const { formatMessage } = useIntl();\n  const { push } = useHistory();\n  const { collectionTypes, singleTypes, isLoading: isLoadingModels } = useContentTypes();\n  const { meta, workflows, isLoading, refetch } = useReviewWorkflows();\n  const [workflowToDelete, setWorkflowToDelete] = React.useState(null);\n  const [showLimitModal, setShowLimitModal] = React.useState(false);\n  const { del } = useFetchClient();\n  const { formatAPIError } = useAPIErrorHandler();\n  const toggleNotification = useNotification();\n  const { getFeature, isLoading: isLicenseLoading } = useLicenseLimits();\n  const { trackUsage } = useTracking();\n  const permissions = useSelector(selectAdminPermissions);\n  const {\n    allowedActions: { canCreate, canDelete },\n  } = useRBAC(permissions.settings['review-workflows']);\n\n  const limits = getFeature('review-workflows');\n\n  const { mutateAsync, isLoading: isLoadingMutation } = useMutation(\n    async ({ workflowId, stages }) => {\n      const {\n        data: { data },\n      } = await del(`/admin/review-workflows/workflows/${workflowId}`, {\n        data: stages,\n      });\n\n      return data;\n    },\n    {\n      onSuccess() {\n        toggleNotification({\n          type: 'success',\n          message: { id: 'notification.success.deleted', defaultMessage: 'Deleted' },\n        });\n      },\n    }\n  );\n\n  const getContentTypeDisplayName = (uid) => {\n    const contentType = [...collectionTypes, ...singleTypes].find(\n      (contentType) => contentType.uid === uid\n    );\n\n    return contentType.info.displayName;\n  };\n\n  const handleDeleteWorkflow = (workflowId) => {\n    setWorkflowToDelete(workflowId);\n  };\n\n  const toggleConfirmDeleteDialog = () => {\n    setWorkflowToDelete(null);\n  };\n\n  const handleConfirmDeleteDialog = async () => {\n    try {\n      const res = await mutateAsync({ workflowId: workflowToDelete });\n\n      await refetch();\n      setWorkflowToDelete(null);\n\n      return res;\n    } catch (error) {\n      toggleNotification({\n        type: 'warning',\n        message: formatAPIError(error),\n      });\n\n      return null;\n    }\n  };\n\n  /**\n   * If the current license has a limit:\n   * check if the total count of workflows or stages exceeds that limit and display\n   * the limits modal on page load. It can be closed by the user, but the\n   * API will throw an error in case they try to create a new workflow or update the\n   * stages.\n   *\n   * If the current license does not have a limit (e.g. offline license):\n   * do nothing (for now). In case they are trying to create the 201st workflow/ stage\n   * the API will throw an error.\n   *\n   */\n\n  React.useEffect(() => {\n    if (!isLoading && !isLicenseLoading) {\n      if (\n        limits?.[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME] &&\n        meta?.workflowCount > parseInt(limits[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME], 10)\n      ) {\n        setShowLimitModal(true);\n      }\n    }\n  }, [isLicenseLoading, isLoading, limits, meta?.workflowCount, meta.workflowsTotal]);\n\n  return (\n    <>\n      <Layout.Header\n        primaryAction={\n          canCreate && (\n            <LinkButton\n              startIcon={<Plus />}\n              size=\"S\"\n              to=\"/settings/review-workflows/create\"\n              onClick={(event) => {\n                /**\n                 * If the current license has a workflow limit:\n                 * check if the total count of workflows exceeds that limit. If so,\n                 * prevent the navigation and show the limits overlay.\n                 *\n                 * If the current license does not have a limit (e.g. offline license):\n                 * allow the user to navigate to the create-view. In case they exceed the\n                 * current hard-limit of 200 they will see an error thrown by the API.\n                 */\n\n                if (\n                  limits?.[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME] &&\n                  meta?.workflowCount >= parseInt(limits[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME], 10)\n                ) {\n                  event.preventDefault();\n                  setShowLimitModal(true);\n                } else {\n                  trackUsage('willCreateWorkflow');\n                }\n              }}\n            >\n              {formatMessage({\n                id: 'Settings.review-workflows.list.page.create',\n                defaultMessage: 'Create new workflow',\n              })}\n            </LinkButton>\n          )\n        }\n        subtitle={formatMessage({\n          id: 'Settings.review-workflows.list.page.subtitle',\n          defaultMessage: 'Manage your content review process',\n        })}\n        title={formatMessage({\n          id: 'Settings.review-workflows.list.page.title',\n          defaultMessage: 'Review Workflows',\n        })}\n      />\n\n      <Layout.Root>\n        {isLoading || isLoadingModels ? (\n          <Flex justifyContent=\"center\">\n            <Loader>\n              {formatMessage({\n                id: 'Settings.review-workflows.page.list.isLoading',\n                defaultMessage: 'Workflows are loading',\n              })}\n            </Loader>\n          </Flex>\n        ) : (\n          <Table\n            colCount={3}\n            footer={\n              // TODO: we should be able to use a link here instead of an (inaccessible onClick) handler\n              canCreate && (\n                <TFooter\n                  icon={<Plus />}\n                  onClick={() => {\n                    /**\n                     * If the current license has a workflow limit:\n                     * check if the total count of workflows exceeds that limit\n                     *\n                     * If the current license does not have a limit (e.g. offline license):\n                     * allow the user to navigate to the create-view. In case they exceed the\n                     * current hard-limit of 200 they will see an error thrown by the API.\n                     */\n\n                    if (\n                      limits?.[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME] &&\n                      meta?.workflowCount >=\n                        parseInt(limits[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME], 10)\n                    ) {\n                      setShowLimitModal(true);\n                    } else {\n                      push('/settings/review-workflows/create');\n                      trackUsage('willCreateWorkflow');\n                    }\n                  }}\n                >\n                  {formatMessage({\n                    id: 'Settings.review-workflows.list.page.create',\n                    defaultMessage: 'Create new workflow',\n                  })}\n                </TFooter>\n              )\n            }\n            rowCount={1}\n          >\n            <Thead>\n              <Tr>\n                <Th>\n                  <Typography variant=\"sigma\">\n                    {formatMessage({\n                      id: 'Settings.review-workflows.list.page.list.column.name.title',\n                      defaultMessage: 'Name',\n                    })}\n                  </Typography>\n                </Th>\n                <Th>\n                  <Typography variant=\"sigma\">\n                    {formatMessage({\n                      id: 'Settings.review-workflows.list.page.list.column.stages.title',\n                      defaultMessage: 'Stages',\n                    })}\n                  </Typography>\n                </Th>\n                <Th>\n                  <Typography variant=\"sigma\">\n                    {formatMessage({\n                      id: 'Settings.review-workflows.list.page.list.column.contentTypes.title',\n                      defaultMessage: 'Content Types',\n                    })}\n                  </Typography>\n                </Th>\n                <Th>\n                  <VisuallyHidden>\n                    {formatMessage({\n                      id: 'Settings.review-workflows.list.page.list.column.actions.title',\n                      defaultMessage: 'Actions',\n                    })}\n                  </VisuallyHidden>\n                </Th>\n              </Tr>\n            </Thead>\n\n            <Tbody>\n              {workflows.map((workflow) => (\n                <Tr\n                  {...onRowClick({\n                    fn(event) {\n                      // Abort row onClick event when the user click on the delete button\n                      if (event.target.nodeName === 'BUTTON') {\n                        return;\n                      }\n\n                      push(`/settings/review-workflows/${workflow.id}`);\n                    },\n                  })}\n                  key={`workflow-${workflow.id}`}\n                >\n                  <Td width={pxToRem(250)}>\n                    <Typography textColor=\"neutral800\" fontWeight=\"bold\" ellipsis>\n                      {workflow.name}\n                    </Typography>\n                  </Td>\n                  <Td>\n                    <Typography textColor=\"neutral800\">{workflow.stages.length}</Typography>\n                  </Td>\n                  <Td>\n                    <Typography textColor=\"neutral800\">\n                      {(workflow?.contentTypes ?? []).map(getContentTypeDisplayName).join(', ')}\n                    </Typography>\n                  </Td>\n                  <Td>\n                    <Flex alignItems=\"center\" justifyContent=\"end\">\n                      <ActionLink\n                        to={`/settings/review-workflows/${workflow.id}`}\n                        aria-label={formatMessage(\n                          {\n                            id: 'Settings.review-workflows.list.page.list.column.actions.edit.label',\n                            defaultMessage: 'Edit {name}',\n                          },\n                          { name: workflow.name }\n                        )}\n                      >\n                        <Pencil />\n                      </ActionLink>\n\n                      {workflows.length > 1 && canDelete && (\n                        <IconButton\n                          aria-label={formatMessage(\n                            {\n                              id: 'Settings.review-workflows.list.page.list.column.actions.delete.label',\n                              defaultMessage: 'Delete {name}',\n                            },\n                            { name: 'Default workflow' }\n                          )}\n                          icon={<Trash />}\n                          noBorder\n                          onClick={() => {\n                            handleDeleteWorkflow(workflow.id);\n                          }}\n                        />\n                      )}\n                    </Flex>\n                  </Td>\n                </Tr>\n              ))}\n            </Tbody>\n          </Table>\n        )}\n\n        <ConfirmDialog\n          bodyText={{\n            id: 'Settings.review-workflows.list.page.delete.confirm.body',\n            defaultMessage:\n              'If you remove this worfklow, all stage-related information will be removed for this content-type. Are you sure you want to remove it?',\n          }}\n          isConfirmButtonLoading={isLoadingMutation}\n          isOpen={!!workflowToDelete}\n          onToggleDialog={toggleConfirmDeleteDialog}\n          onConfirm={handleConfirmDeleteDialog}\n        />\n\n        <LimitsModal.Root isOpen={showLimitModal} onClose={() => setShowLimitModal(false)}>\n          <LimitsModal.Title>\n            {formatMessage({\n              id: 'Settings.review-workflows.list.page.workflows.limit.title',\n              defaultMessage: 'You’ve reached the limit of workflows in your plan',\n            })}\n          </LimitsModal.Title>\n\n          <LimitsModal.Body>\n            {formatMessage({\n              id: 'Settings.review-workflows.list.page.workflows.limit.body',\n              defaultMessage: 'Delete a workflow or contact Sales to enable more workflows.',\n            })}\n          </LimitsModal.Body>\n        </LimitsModal.Root>\n      </Layout.Root>\n    </>\n  );\n}\n","import React from 'react';\n\nimport { CheckPagePermissions } from '@strapi/helper-plugin';\nimport { useSelector } from 'react-redux';\n\nimport { selectAdminPermissions } from '../../../../../../../../../admin/src/selectors';\n\nimport { ReviewWorkflowsListView } from './ListView';\n\nexport default function () {\n  const permissions = useSelector(selectAdminPermissions);\n\n  return (\n    <CheckPagePermissions permissions={permissions.settings['review-workflows'].main}>\n      <ReviewWorkflowsListView />\n    </CheckPagePermissions>\n  );\n}\n"],"names":["styled","Link","pxToRem","useIntl","useHistory","useContentTypes","useReviewWorkflows","React","useFetchClient","useAPIErrorHandler","useNotification","useLicenseLimits","useTracking","useSelector","selectAdminPermissions","useRBAC","useMutation","contentType","CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME","jsxs","Fragment","jsx","Layout.Header","LinkButton","Plus","Layout.Root","Flex","Loader","Table","TFooter","Thead","Tr","Th","Typography","VisuallyHidden","Tbody","createElement","onRowClick","Td","Pencil","IconButton","Trash","ConfirmDialog","LimitsModal.Root","LimitsModal.Title","LimitsModal.Body","CheckPagePermissions"],"mappings":"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"}